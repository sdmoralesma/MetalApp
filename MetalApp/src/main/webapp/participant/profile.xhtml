<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core"
	template="/WEB-INF/templates/template.xhtml">

	<ui:define name="content">

		<h3>My Profile</h3>

		<h:form id="form">

			<p:panel header="Modify your info and click 'Update'">

				<p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
				<h:panelGrid columns="3">

					<h:outputText for="username" value="Username" />
					<p:inputText id="username" value="#{participantBean.participant.username}" readonly="true" disabled="true" />
					<p:message for="username" />

					<h:outputText for="name" value="Name *" />
					<p:inputText id="name" value="#{participantBean.participant.name}" required="true" label="Name">
						<f:validateLength minimum="6" />
					</p:inputText>
					<p:message for="name" />

					<h:outputText for="age" value="Age" />
					<p:inputText id="age" value="#{participantBean.participant.age}" required="true" label="Age">
						<f:validateDoubleRange maximum="100" minimum="13" />
					</p:inputText>
					<p:message for="age" />

					<h:outputText for="gender" value="Gender" />
					<p:selectOneMenu id="gender" value="#{participantBean.participant.gender}">
						<f:selectItem itemLabel="Female" itemValue="Female" />
						<f:selectItem itemLabel="Male" itemValue="Male" />
						<f:selectItem itemLabel="LGBT" itemValue="LGBT" />
					</p:selectOneMenu>
					<p:message for="gender" />

					<h:outputText for="country" value="Country" />
					<p:inputText id="country" value="#{participantBean.participant.country}">
						<f:validateLength minimum="3" />
					</p:inputText>
					<p:message for="country" />

					<h:outputText value="Presentation" />
					<h:graphicImage library="images/participants" name="#{participantBean.participant.image_url}" width="150"
						height="150" />

				</h:panelGrid>
				<p:commandButton update="form" value="Update" actionListener="#{participantBean.updateParticipant}"
					icon="ui-icon-disk" />
			</p:panel>


			<p:panel header="Update Your Presentation!">
				<h:panelGrid columns="2">
					<h:form enctype="multipart/form-data">
						<p:fileUpload fileUploadListener="#{participantBean.handleFileUpload}" mode="advanced" update="messages"
							sizeLimit="1000000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
						<p:growl id="messages" showDetail="true" />
					</h:form>
				</h:panelGrid>
			</p:panel>

		</h:form>
	</ui:define>
</ui:composition>